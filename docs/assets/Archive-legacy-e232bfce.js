System.register(["./chunk-vform-legacy-f1b551df.js","./gengduo-caozuo-legacy-e441bcd3.js","./JyTable-legacy-7e059877.js","./JyTabs-legacy-c8c76c45.js","./documentsDetails-legacy-8c032a4c.js","./portion-legacy-cfca188a.js","./chunk-ant-design-vue-legacy-78f2abeb.js","./chunk-element-plus-legacy-3362d1f8.js","./sangedian-legacy-75d81ddc.js","./Layout-legacy-262a6687.js","./searchForm-legacy-04a651fb.js","./ketanchude-legacy-4abaf206.js","./KDocumentTypeDialog-legacy-0ecc1f11.js","./pagination-legacy-4c7c1f23.js","./batch-legacy-ff825cb6.js","./index-legacy-ed44ba95.js","./JyTabs.vue_vue_type_style_index_0_scoped_5e06bfe2_lang-legacy-bb1152fe.js","./cha-kong-legacy-1ebc7b7b.js","./table-legacy-0b33412c.js","./documentsDetails.vue_vue_type_style_index_0_scoped_204b6fa9_lang-legacy-1381b1de.js","./yuan-hui-legacy-0c1e3d03.js","./portion.vue_vue_type_style_index_0_scoped_3abd16ad_lang-legacy-c3216d6b.js"],(function(e,a){"use strict";var l,t,i,o,n,d,r,s,c,p,m,h,u,v,f,y,b,g,w,A,F,x,k,T,S,D,_,N,C,j,I,z,U,B=document.createElement("style");return B.textContent=".PrintControlManagement-Archive[data-v-812c00ea]{margin:0%}.PrintControlManagement-Archive .title[data-v-812c00ea]{display:flex;align-items:center;justify-content:space-between}.PrintControlManagement-Archive .title .title-more[data-v-812c00ea]{height:100%;display:flex;align-items:center}.PrintControlManagement-Archive .title .title-more .title-more-add[data-v-812c00ea]{margin-right:.5rem;height:100%;display:flex;align-items:center}.PrintControlManagement-Archive .title .title-more .title-more-down[data-v-812c00ea]{height:100%;display:flex;align-items:center}.base[data-v-812c00ea]{display:flex}.base>div[data-v-812c00ea]{width:40%;margin:20px 0}.base>div>span[data-v-812c00ea]{margin-right:16px}.content-wrap[data-v-812c00ea]{display:flex;margin-bottom:16px}.content-wrap>span[data-v-812c00ea]{margin-right:16px}.content-wrap>div[data-v-812c00ea]{width:90%;overflow:hidden}.content-wrap>div .files-item[data-v-812c00ea]{border:.5px solid #d2d2d2;border-radius:2px;margin-bottom:16px}.content-wrap>div .files-item>div[data-v-812c00ea]{width:100%;height:40px;display:flex;align-items:center;padding-left:16px}.content-wrap>div .files-item>div[data-v-812c00ea]:nth-child(2){height:50px;border-top:1px solid #ccc;align-items:center;margin:0}.content-wrap>div .files-item .add-file[data-v-812c00ea]{justify-content:center;color:#1985f5;cursor:pointer}.content-wrap>div .files-item .add-file .upload-demo[data-v-812c00ea]{display:flex;align-items:center}.content-wrap>div .files-item .add-file .upload-demo svg[data-v-812c00ea]{margin-right:10px}.content-wrap>div .files-item .view-file[data-v-812c00ea]{color:#666;margin-left:5px}.content-wrap>div .files-item .view-file .upload-file>div[data-v-812c00ea]{display:flex;align-items:center}.content-wrap>div .files-item .view-file .upload-file>div>img[data-v-812c00ea]{margin-right:10px}.content-wrap>div .files-item .view-file .upload-file>div>svg[data-v-812c00ea]{width:14px;margin-right:10px}.content-wrap>div .files-item .view-file .archive-status-item[data-v-812c00ea]{margin-left:20px}.content-wrap>div .files-item .view-file .archive-status-item svg[data-v-812c00ea]{width:12px;height:12px;margin-right:5px}.content-wrap>div .files-item .special[data-v-812c00ea]{display:flex;justify-content:space-between}.files-add svg[data-v-812c00ea]{width:20px;height:20px;margin-right:5px}.upload-archives-element[data-v-812c00ea]{border:1px solid #ccc;border-radius:2px}.upload-archives-element .upload-demo[data-v-812c00ea]{padding:5px 12px}.upload-archives-element .upload-files-list[data-v-812c00ea]{border-top:1px solid #ccc;padding-left:12px;min-height:50px;max-height:200px;overflow:auto}.upload-archives-element .upload-files-list .upload-file-item[data-v-812c00ea]{display:flex;padding:10px 0;color:#666}.upload-archives-element .upload-files-list .upload-file-item>div[data-v-812c00ea]{margin-right:20px}.upload-archives-element .upload-files-list .upload-file-item>.file-btn[data-v-812c00ea]{cursor:pointer}.upload-archives-element .upload-files-list .upload-file-item .file-name[data-v-812c00ea]{max-width:50%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.upload-archives-element .upload-files-list .upload-file-item .file-status[data-v-812c00ea]{color:#5fb878}.upload-archives-element .upload-files-list .upload-file-item .file-view[data-v-812c00ea]{color:#d8a650}.upload-archives-element .upload-files-list .upload-file-item .file-down[data-v-812c00ea]{color:#6d9ef6}.upload-archives-element .upload-files-list .upload-file-item .file-delete[data-v-812c00ea]{color:#ef1e1e}[data-v-812c00ea] .el-form--inline{display:flex;justify-content:space-between}[data-v-812c00ea] .el-form--inline .el-form-item{width:calc(50% - 5px);margin-right:5px}[data-v-812c00ea] .el-form-item{width:calc(100% - 5px)}\n",document.head.appendChild(B),{setters:[e=>{l=e.B,t=e.g,i=e.j,o=e.F,n=e.P,d=e.m,r=e.a3,s=e.n},e=>{c=e._},e=>{p=e.J},e=>{m=e.c},e=>{h=e.c},e=>{u=e.d},e=>{v=e.a,f=e.at,y=e.a9,b=e.d,g=e.aQ,w=e.W,A=e.X,F=e.ap,x=e.ai,k=e.Y,T=e.u,S=e.a3,D=e.aE,_=e.ah,N=e.an,C=e.ao,j=e.am,I=e.ad,z=e.ba,U=e.bb},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const a=[{prop:"useSealApplyNo",label:"单据编号",width:180,show:!0},{prop:"useSealFileName",label:"单据名称","min-width":150,show:!0},{prop:"fileTypeName",label:"用印文件类型","min-width":150,show:!0},{prop:"applyUserName",label:"申请人","min-width":150,show:!0},{prop:"applyOrganName",label:"申请部门","min-width":150,show:!0},{prop:"applyDatetime",label:"申请时间",width:180,show:!0},{prop:"caozuo",label:"操作",fixed:"right",align:"center",width:150,show:!0,rankDisplayData:[{name:"文件归档"}]}],B=[{prop:"useSealApplyNo",label:"单据编号",width:180,show:!0},{prop:"useSealFileName",label:"单据名称","min-width":150,show:!0},{prop:"fileTypeName",label:"用印文件类型","min-width":150,show:!0},{prop:"applyUserName",label:"申请人","min-width":150,show:!0},{prop:"applyOrganName",label:"申请部门","min-width":150,show:!0},{prop:"applyDatetime",label:"申请时间",width:180,show:!0},{prop:"caozuo",label:"操作",fixed:"right",width:150,align:"center",show:!0,rankDisplayData:[{name:"文件归档"}]}],M=[{prop:"useSealApplyNo",label:"单据编号",width:180,show:!0},{prop:"useSealFileName",label:"单据名称","min-width":150,show:!0},{prop:"fileTypeName",label:"用印文件类型","min-width":150,show:!0},{prop:"applyUserName",label:"申请人","min-width":150,show:!0},{prop:"applyOrganName",label:"申请部门","min-width":150,show:!0},{prop:"applyDatetime",label:"申请时间",width:180,show:!0},{prop:"download",label:"文件下载",fixed:"right",align:"center","min-width":200,show:!0,rankDisplayData:[{name:"用印前"},{name:"用印中"},{name:"用印后"}]},{prop:"caozuo",label:"操作",fixed:"right","min-width":150,align:"center",show:!0,rankDisplayData:[{name:"补传"},{name:"申请重置"}]}],P=[{id:"searchKey",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人员/用印编码"}},{id:"applyDate",label:"申请时间",type:"picker",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"fileTypeId",requestParams:"fileTypeIds",label:"文件类型",type:"derivable",inCommonUse:!1,defaultAttribute:{placeholder:"请选择",type:"fileType",multiple:!0,joinStr:","},options:[]},{id:"applyUser",requestParams:"applyUserId",label:"申请人",type:"derivable",defaultAttribute:{type:"user",multiple:!0,placeholder:"+申请人",joinStr:","},options:[],values:null},{id:"applyOrgan",requestParams:"applyOrganIds",label:"申请部门",type:"derivable",defaultAttribute:{type:"organ",multiple:!0,placeholder:"+申请部门",joinStr:","},options:[],values:null},{id:"derivable",label:"往来单位",type:"derivable",defaultAttribute:{placeholder:"+往来单位"}},{id:"archiveDate",label:"归档时间",type:"picker",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD","disabled-date":e=>e.getTime()>Date.now(),"default-value":[new Date((new Date).setMonth((new Date).getMonth()-1)),new Date]},style:{}},{id:"useSealStatus",label:"用印状态",type:"checkButton",data:[{id:"1",name:"正常"},{id:"2",name:"异常"}]},{id:"onlyMyself",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据"},style:{}}]}],O=[{id:"name",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人员/用印编码"}},{id:"picker",label:"申请时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"derivable",label:"文件类型",type:"derivable",defaultAttribute:{placeholder:"+文件类型"}},{id:"derivable",label:"申请人",type:"derivable",defaultAttribute:{placeholder:"+申请人"}},{id:"derivable",label:"申请部门",type:"derivable",defaultAttribute:{placeholder:"+申请部门"}},{id:"derivable",label:"往来单位",type:"derivable",defaultAttribute:{placeholder:"+往来单位"}},{id:"archiveDate",label:"归档时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"wdyy",label:"用印状态",type:"checkButton",data:[{name:"正常"},{name:"异常"}]},{id:"wdyy",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据"},style:{}}]}],V=[{id:"name",label:"关键词",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"文件名称/申请人员/用印编码"}},{id:"picker",label:"申请时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"derivable",label:"文件类型",type:"derivable",defaultAttribute:{placeholder:"+文件类型"}},{id:"derivable",label:"申请人",type:"derivable",defaultAttribute:{placeholder:"+申请人"}},{id:"derivable",label:"申请部门",type:"derivable",defaultAttribute:{placeholder:"+申请部门"}},{id:"derivable",label:"往来单位",type:"derivable",defaultAttribute:{placeholder:"+往来单位"}},{id:"archiveDate",label:"归档时间",type:"picker",pickerType:"date",inCommonUse:!0,defaultAttribute:{type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间"},style:{}},{id:"wdyy",label:"用印状态",type:"checkButton",data:[{name:"正常"},{name:"异常"}]},{id:"wdyy",label:"",type:"checkbox",checkbox:[{defaultAttribute:{label:"我的申请单据"},style:{}}]}],Y={archiveInfo:e=>l({method:"GET",url:"/archive/info/"+e}),archiveFileFinish:e=>l({method:"POST",url:"/archive/file/finish",data:e}),archiveDelete:e=>l({method:"POST",url:"/archive/file/delete",params:e}),archiveFinish:e=>l({method:"POST",url:"/archive/finish",data:e}),archiveRestApply:e=>l({method:"POST",url:"/archive/reset/apply",params:e}),archiveRestCancel:e=>l({method:"POST",url:"/archive/reset/cancel",params:e}),archiveDownloadPack:e=>l({method:"get",url:"/archive/download/pack",params:e}),archiveDownloadPage:e=>l({method:"GET",url:"/archive/download/page",params:e}),archiveDownloadDelete:e=>l({method:"GET",url:"/archive/download/delete",params:e})},H=e=>(z("data-v-812c00ea"),e=e(),U(),e),Z={class:"PrintControlManagement-Archive"},q={class:"title"},E=H((()=>k("div",null,"文件归档",-1))),R={class:"title-more"},$=H((()=>k("div",{class:"title-more-add"},null,-1))),J={key:0,class:"title-more-down"},K=H((()=>k("img",{class:"button-icon",src:c,alt:"",srcset:""},null,-1))),G=H((()=>k("span",null,"更多操作",-1))),L={class:"ap-box"},W=H((()=>k("div",{class:"ap-cont-box-title-label"},"基本信息",-1))),X={class:"from-wrap"},Q=H((()=>k("div",{class:"ap-cont-box-title-label"},"文件归档",-1))),ee={key:0,class:"files-wrap content-wrap"},ae=H((()=>k("span",null,"文件归档",-1))),le={class:"files-list"},te={key:0,class:"add-file"},ie=H((()=>k("svg",{preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"",viewBox:"0 0 16 16"},[k("g",null,[k("g",{"fill-rule":"nonzero",fill:"#1985F5","data-follow-fill":"#1985F5"},[k("path",{d:"M6.155 3.84h3.2v6.368h-3.2z"}),k("path",{d:"M6.155 3.84h3.2v6.368h-3.2z"}),k("path",{d:"m3.19 5.003 1.29-1.408L7.061.757 7.755 0l.693.757 2.581 2.838 1.291 1.408H3.19ZM8.32 9.77l-.395.437h-.341l-.395-.437H8.32Z"}),k("path",{d:"M6.155 9.6v.608h3.2V9.6h-3.2Zm4.266 0v1.707H5.088V9.6H0V16h16V9.6h-5.579Zm1.312 5.184H9.6v-2.133h2.133v2.133Zm3.2 0H12.8v-2.133h2.133v2.133Z"})])])],-1))),oe=N(" 请添加归档文件 "),ne={class:"upload-file"},de={key:0},re=H((()=>k("img",{src:"/zgj-web/assets/icon-pdf-2f424dcd.svg"},null,-1))),se={key:1},ce=H((()=>k("svg",{class:"iconpark-icon"},[k("use",{href:"#folder"})],-1))),pe={class:"archive-status"},me={key:0,class:"archive-status-item"},he=[H((()=>k("svg",{class:"iconpark-icon"},[k("use",{href:"#finished"})],-1))),N(" 完成归档 ")],ue={key:1,class:"archive-status-item"},ve=N("完成归档"),fe={key:1},ye=[H((()=>k("svg",{class:"iconpark-icon"},[k("use",{href:"#waiting-arvhices"})],-1))),H((()=>k("span",null,"归档中（其他终端）",-1)))],be={class:"files-add content-wrap"},ge=H((()=>k("span",null,"补充附件",-1))),we={class:"upload-archives-element"},Ae=H((()=>k("svg",{class:"iconpark-icon"},[k("use",{href:"#upload-file"})],-1))),Fe=N(" 添加附件 "),xe={class:"upload-files-list"},ke=["title"],Te={class:"file-size"},Se=H((()=>k("div",{class:"file-status file-btn"},"已上传",-1))),De=H((()=>k("div",{class:"file-view file-btn"},"预览",-1))),_e=H((()=>k("div",{class:"file-down file-btn"},"下载",-1))),Ne=H((()=>k("div",{class:"file-delete file-btn"},"删除",-1)));e("default",t({setup(e){const l=i(),t=v(!1),c=v("shallArchive"),z=v(null),U=v(null),H=v({shallArchive:a,archiving:B,archived:M}),Ce=v({shallArchiveSearchForm:P,archivingSearchForm:O,archivedSearchForm:V}),je=f({show:!1,title:"文件归档"}),Ie=f({cache:{},componentsTitle:{more:{data:[]}},componentsTabs:{data:[{label:"待归档",name:"shallArchive"},{label:"归档中",name:"archiving"},{label:"已归档",name:"archived"}]},componentsSearchForm:{data:Ce.value.shallArchiveSearchForm,butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"t-zgj-query",label:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"t-zgj-reset",label:"重置",type:"click",defaultAttribute:{plain:!0},style:{}}]},componentsTable:{header:H.value.shallArchive},componentsDocumentsDetails:{show:!1,visible:[{label:"用印详情",name:"Details-of-Printing"},{label:"审批流程",name:"approval-process"},{label:"领用记录",name:"Record-of-requisition"},{label:"操作记录",name:"operating-record"}]},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[]},componentsArchiveForm:{useSealApplyId:"",fileTypeId:"",applyCode:"",applyName:"",archiveNo:"",readme:"",files:[],supplemenFiles:[]}});function ze(e,a,l,t){"useSealFileName"===a.property&&(Ie.componentsDocumentsDetails.show=!0)}function Ue(){Ie.componentsDocumentsDetails.show=!1}function Be(e){c.value=e,Ie.componentsTable.header=H.value[e],"shallArchive"===e||"archiving"===e?Ie.componentsTitle.more.data=[]:"archived"===e&&(Ie.componentsTitle.more.data=[{name:"文件打包下载"},{name:"下载记录"}]),z.value.clickSubmit()}const Me=(e,a,t,i)=>{"文件归档"===t.name&&(je.show=!0,Y.archiveInfo(a.useSealApplyId).then((e=>{const a=e.data;Ie.componentsArchiveForm.useSealApplyId=a.useSealApplyId,Ie.componentsArchiveForm.fileTypeId=a.fileTypeId,Ie.componentsArchiveForm.applyCode=a.useSealApplyNo,Ie.componentsArchiveForm.applyName=a.useSealFileName,Ie.componentsArchiveForm.files=[],Ie.componentsArchiveForm.supplemenFiles=a.archiveAddFile,a.useSealFile.forEach((e=>{var a;Ie.componentsArchiveForm.files.push({fileOriginName:e.fileOriginName,bizFileId:e.bizFileId,fileSize:(e.fileSizeByte/1024).toFixed(2)+"KB",type:e.archiveFile?2:-1,archiveAttachmentFileName:null===(a=e.archiveFile)||void 0===a?void 0:a.fileOriginName,isArchived:!!e.archiveFile})})),U.value={useSealApplyId:a.useSealApplyId,useSealFileTypeId:a.fileTypeId,joinBizFileId:"",fileSourceType:"1"}}))),"补传"===t.name&&(je.show=!0,Ie.ArchiveFiles=[]),"申请重置"===t.name&&l.push({name:"ArchiveReset"})};function Pe(e){const a=Ie.componentsArchiveForm.files.findIndex((a=>a.bizFileId===e.data.joinBizFileId));a>-1&&(Ie.componentsArchiveForm.files[a].type=2,Ie.componentsArchiveForm.files[a].archiveAttachmentFileName=e.data.fileOriginName,Ie.componentsArchiveForm.files[a].isArchived=!1,Ie.componentsArchiveForm.files[a].fileSourceType=e.data.fileSourceType,Ie.componentsArchiveForm.files[a].bizFileId=e.data.bizFileId)}function Oe(e){e.data.fileUrl=e.data.fileUrl?o+e.data.fileUrl:"",Ie.componentsArchiveForm.supplemenFiles.push(e.data)}function Ve(){const e=Ie.componentsArchiveForm.files.filter((e=>e.isArchived)).length;e&&e===Ie.componentsArchiveForm.files.length?Y.archiveFinish({useSealApplyId:Ie.componentsArchiveForm.useSealApplyId,archiveNo:Ie.componentsArchiveForm.archiveNo,readme:Ie.componentsArchiveForm.readme}).then((()=>{je.show=!1,r("归档成功"),z.value.reloadData()})):d("请先完成文件归档")}function Ye(){Ie.componentsArchiveForm.archiveNo="",Ie.componentsArchiveForm.readme=""}return y((()=>{})),b((()=>{})),(e,a)=>{const l=g("el-button"),i=g("el-dropdown-item"),d=g("el-dropdown-menu"),r=g("el-dropdown"),v=g("el-input"),f=g("el-form-item"),y=g("el-col"),b=g("el-row"),B=g("el-form"),M=g("el-upload"),P=s;return w(),A("div",Z,[F(p,{url:`/archive/page/${c.value}`,ref_key:"jyTable",ref:z,hasTabs:"",componentsSearchForm:T(Ie).componentsSearchForm,componentsTableHeader:T(Ie).componentsTable.header,componentsBatch:T(Ie).componentsBatch,tableClick:"useSealFileName",onCellClick:ze,onCustomClick:Me,onClickBatchButton:e.clickBatchButton},{title:x((()=>[k("div",q,[E,k("div",R,[$,T(Ie).componentsTitle.more.data.length>0?(w(),A("div",J,[F(r,null,{dropdown:x((()=>[F(d,null,{default:x((()=>[(w(!0),A(S,null,D(T(Ie).componentsTitle.more.data,((a,l)=>(w(),_(i,{key:l,onClick:l=>e.moreClick(a)},{default:x((()=>[N(C(a.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:x((()=>[F(l,null,{default:x((()=>[K,G])),_:1})])),_:1})])):j("",!0)])])])),tabs:x((()=>[k("div",null,[F(m,{activeName:c.value,data:T(Ie).componentsTabs.data,onTabChange:Be},null,8,["activeName","data"])])])),_:1},8,["url","componentsSearchForm","componentsTableHeader","componentsBatch","onClickBatchButton"]),k("div",L,[F(h,{show:T(Ie).componentsDocumentsDetails.show,visible:T(Ie).componentsDocumentsDetails.visible,onClickClose:Ue},null,8,["show","visible"])]),F(P,{"onUpdate:show":a[4]||(a[4]=e=>T(je).show=e),show:T(je).show,title:"文件归档",centerBtn:"",draggable:!0,confirmText:e.$t("t-zgj-operation.submit"),concelText:e.$t("t-zgj-operation.cancel"),onClose:Ye,onConfirm:Ve},{default:x((()=>[F(u,null,{title:x((()=>[W])),content:x((()=>[k("div",X,[F(B,{"label-width":"70px","label-position":"left"},{default:x((()=>[F(b,{gutter:15},{default:x((()=>[F(y,{span:12},{default:x((()=>[F(f,{label:"单据编号",prop:"applyCode"},{default:x((()=>[F(v,{modelValue:T(Ie).componentsArchiveForm.applyCode,"onUpdate:modelValue":a[0]||(a[0]=e=>T(Ie).componentsArchiveForm.applyCode=e),disabled:"",type:"text",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),F(y,{span:12},{default:x((()=>[F(f,{label:"单据名称",prop:"applyName"},{default:x((()=>[F(v,{modelValue:T(Ie).componentsArchiveForm.applyName,"onUpdate:modelValue":a[1]||(a[1]=e=>T(Ie).componentsArchiveForm.applyName=e),disabled:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),F(y,{span:24},{default:x((()=>[F(f,{label:"档案字号",prop:"archiveNo"},{default:x((()=>[F(v,{modelValue:T(Ie).componentsArchiveForm.archiveNo,"onUpdate:modelValue":a[2]||(a[2]=e=>T(Ie).componentsArchiveForm.archiveNo=e),placeholder:"请输入",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),F(y,{span:24},{default:x((()=>[F(f,{label:"归档备注",prop:"readme"},{default:x((()=>[F(v,{modelValue:T(Ie).componentsArchiveForm.readme,"onUpdate:modelValue":a[3]||(a[3]=e=>T(Ie).componentsArchiveForm.readme=e),type:"textarea",placeholder:"请输入",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1}),F(u,null,{title:x((()=>[Q])),content:x((()=>[T(Ie).componentsArchiveForm.files.length>0?(w(),A("div",ee,[ae,k("div",le,[(w(!0),A(S,null,D(T(Ie).componentsArchiveForm.files,((e,a)=>(w(),A("div",{class:"files-item",key:a},[k("div",null,C(e.fileOriginName),1),e.type<2?(w(),A("div",te,[F(M,{ref_for:!0,ref:"upload",class:"upload-demo",action:`${T(o)}/archive/file/upload`,limit:1,data:{useSealApplyId:T(Ie).componentsArchiveForm.useSealApplyId,useSealFileTypeId:T(Ie).componentsArchiveForm.fileTypeId,joinBizFileId:e.bizFileId,fileSourceType:"1"},"on-success":Pe,"show-file-list":!1},{trigger:x((()=>[ie,oe])),_:2},1032,["action","data"])])):j("",!0),2==e.type?(w(),A("div",{key:1,class:I(["view-file",{special:"1"===e.fileSourceType}])},[k("div",ne,[e.isArchived?(w(),A("div",de,[re,N(C(e.archiveAttachmentFileName)+"（"+C(e.fileSize)+"） ",1)])):(w(),A("div",se,[ce,N(" "+C(e.archiveAttachmentFileName),1)]))]),k("div",pe,[e.isArchived?(w(),A("div",me,he)):(w(),A("div",ue,["1"===e.fileSourceType?(w(),_(l,{key:0,style:{"margin-right":"20px"},type:"primary",onClick:e=>function(e){Y.archiveFileFinish({bizFileId:Ie.componentsArchiveForm.files[e].bizFileId}).then((()=>{Ie.componentsArchiveForm.files[e].isArchived=!0,Ie.componentsArchiveForm.files[e].fileSourceType=null,z.value.reloadData()}))}(a)},{default:x((()=>[ve])),_:2},1032,["onClick"])):(w(),A("div",fe,ye))]))])],2)):j("",!0)])))),128))])])):j("",!0),k("div",be,[ge,k("div",we,[F(M,{ref:"upload",class:"upload-demo",action:`${T(o)}/archive/file/upload/add`,limit:1,data:U.value,"show-file-list":!1,"on-success":Oe},{trigger:x((()=>[Ae,Fe])),_:1},8,["action","data"]),k("div",xe,[(w(!0),A(S,null,D(T(Ie).componentsArchiveForm.supplemenFiles,((e,a)=>(w(),A("div",{class:"upload-file-item",key:a},[k("div",{class:"file-name",title:e.fileOriginName},C(e.fileOriginName),9,ke),k("div",Te,C((e.fileSizeByte/1024).toFixed(2)+"KB"),1),Se,De,_e,Ne])))),128))])])])])),_:1})])),_:1},8,["show","confirmText","concelText"]),t.value?(w(),_(T(n),{key:0,show:t.value,"onUpdate:show":a[5]||(a[5]=e=>t.value=e)},null,8,["show"])):j("",!0)])}}},[["__scopeId","data-v-812c00ea"]]))}}}));
