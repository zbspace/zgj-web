import{a as e,at as a,a9 as t,d as s,aQ as l,W as o,X as n,ap as r,ai as i,Y as c,aj as d,ak as u,ao as m,am as p,u as h,ad as y,a3 as b,aE as g,ah as v,an as w,ba as D,bb as f}from"./chunk-ant-design-vue-a1de3c57.js";import{_ as k}from"./back-bdc75944.js";import{c as _}from"./documentsDetails-c9f80313.js";import{J as j}from"./JyTable-8de6d2e9.js";import{g as S,j as x,P as I,aa as B}from"./chunk-vform-ec6574e8.js";import{E as T}from"./chunk-element-plus-636450f3.js";import"./cha-kong-c10eac4e.js";import"./JyTabs-8b1e13a5.js";/* empty css                                                               */import"./table-949645d5.js";import"./sangedian-6ea00dcf.js";/* empty css                                                                         */import"./portion-e822e6a3.js";/* empty css                                                                */import"./yuan-hui-31c99901.js";import"./Layout-58d8fae6.js";import"./searchForm-bc074dfc.js";import"./ketanchude-a94e84bc.js";import"./KDocumentTypeDialog-21febff4.js";import"./pagination-35741a8b.js";import"./batch-21ddcba8.js";import"./index-bd96bee1.js";const C=[{prop:"sealName",label:"印章名称",sortable:"custom","min-width":210,"show-overflow-tooltip":!0,show:!0},{prop:"sealTypeName",label:"印章类型",sortable:"custom","min-width":150,show:!0},{prop:"sealStateId",label:"印章状态",sortable:"custom","min-width":150,show:!0,customDisplayType:"custom"},{prop:"keepUserName",label:"保管人",sortable:"custom","min-width":150,show:!0},{prop:"keepOrganName",label:"保管部门",sortable:"custom","min-width":150,show:!0},{prop:"createDatetime",label:"创建时间",sortable:"custom","min-width":180,show:!0},{prop:"caozuo",label:"操作",fixed:"right",width:100,show:!0,customDisplayType:"custom"}],E=e=>(D("data-v-f8a387cb"),e=e(),f(),e),J={class:"PrintControlManagement-LibraryOfSeals"},z={class:"breadcrumb"},M=w(" 印章库 "),$=w("已删除的印章 "),A=w(" 已删除的印章 "),N=E((()=>c("div",null,null,-1))),U={class:"flag-cell center"},V={class:"diot diot-0"},F={class:"diot diot-1"},P={key:0},L={key:1},R={key:2},q=["onClick"],G={key:0,class:"rankDisplayData-more"},H={class:"el-dropdown-link"},K=["src"],O={class:"ap-box"},Q={class:"header-div"},W=["src"],X={class:"content-div"},Y=w(" 提交 "),Z=w("取消"),ee={class:"header-div"},ae=["src"],te={class:"content-div"},se=S({setup(D){const f=x(),S=e(null),E=e(null),se=e(!1),le=e=>{e&&(oe.form[S.value+"Id"]=e[0].id,oe.form[S.value+"Name"]=e[0].name)},oe=a({downIcon:"@/assets/svg/sangedian.svg",downIconGray:"@/assets/svg/sangedian-gray.svg",butDatas:[],sealIds:"",msg:"",tabsShow:[],searchSelected:[],title:"新增",typeList:[],JyElMessageBox:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""},type:"删除"},showToastDialog:{show:!1,header:{data:"",icon:"/src/assets/svg/common/warning.svg"},content:{data:""}},componentsTabs:{data:[{label:"待签章",name:"1"},{label:"已签章",name:"2"},{label:"不可用",name:"3"}]},componentsSearchForm:{style:{lineStyle:{width:"calc(100% / 3)"},labelStyle:{width:"100px"}},data:[{id:"searchKey",label:"印章名称",type:"input",inCommonUse:!0,defaultAttribute:{placeholder:"请输入印章名称"}}],butData:[{id:"more",name:"展开",type:"unfold",defaultAttribute:{type:"primary"},style:{}},{id:"inquire",name:"查询",type:"click",defaultAttribute:{type:"primary"},style:{}},{id:"reset",name:"重置",type:"click",defaultAttribute:{},style:{}}]},componentsTable:{header:C,data:[],defaultAttribute:{stripe:!0,"header-cell-style":{background:"var(--jy-color-fill--3)"},"cell-style":({row:e,column:a,rowIndex:t,columnIndex:s})=>{if("sealName"===a.property||"caozuo"===a.property)return{color:"var(--jy-info-6)",cursor:"pointer"}}}},rankDisplayData:[{name:"t-zgj-sealInfoDelete.restore",label:"还原"}],componentsPagination:{data:{amount:0,index:1,pageNumber:10},defaultAttribute:{layout:"prev, pager, next, jumper",total:0,"page-sizes":[10,50,100],background:!0}},componentsDocumentsDetails:{show:!1,visible:[{label:"印章详情",name:"Particulars-of-Seal"},{label:"保管记录",name:"Record-of-custody"},{label:"操作记录",name:"operating-record"}]},componentsBatch:{selectionData:[],defaultAttribute:{disabled:!0},data:[{name:"t-zgj-seal.BatchSetVisibility",label:"批量设置可见范围"},{name:"t-zgj-seal.BatchSetAvailable",label:"批量设置可用范围"},{name:"t-zgj-seal.BatchDelete",label:"批量删除"},{name:"t-zgj-view.SealUnbind",label:"印章解绑"}]}});function ne(e,a,t,s){"sealName"===a.property&&(oe.componentsDocumentsDetails.show=!0)}function re(){oe.componentsDocumentsDetails.show=!1}function ie(e,a,t,s){oe.sealIds=a.sealId,"2"!==a.sealStateId&&"t-zgj-sealInfoDelete.restore"===t.name&&(oe.JyElMessageBox.header.data="t-zgj-sealInfoDelete.restore",oe.JyElMessageBox.content.data="请问确定还原该印章吗？",oe.JyElMessageBox.show=!0,oe.JyElMessageBox.type="还原")}const ce=(e,a)=>{a.then((a=>{200===a.code?(T.success(`${e}成功！`),E.value.reloadData()):T.success(`${e}失败，请重试`)}))};function de(){f.go(-1)}return t((()=>{})),s((()=>{E.value.reloadData()})),(e,a)=>{const t=l("el-breadcrumb-item"),s=l("el-breadcrumb"),D=l("el-dropdown-item"),f=l("el-dropdown-menu"),S=l("el-dropdown"),x=l("el-button"),T=l("JyElMessageBox"),C=l("el-scrollbar");return o(),n("div",J,[r(j,{url:"/sealInfo/deleted/page",ref_key:"table",ref:E,breadcrumb:!0,needAutoRequest:!1,componentsSearchForm:h(oe).componentsSearchForm,componentsTableHeader:h(oe).componentsTable.header,onCellClick:ne,onCustomClick:ie,onClickBatchButton:e.clickBatchButton},{breadcrumb:i((()=>[c("div",z,[r(s,{separator:"/"},{default:i((()=>[r(t,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.65)"}},{default:i((()=>[M])),_:1}),r(t,{style:{"--el-text-color-regular":"rgba(0, 0, 0, 0.25)"}},{default:i((()=>[$])),_:1})])),_:1})])])),title:i((()=>[c("div",{class:"title"},[c("div",{class:"title-desc"},[c("img",{style:{cursor:"pointer"},class:"title-desc-img",src:k,alt:"",onClick:de}),A]),N])])),custom_sealStateId:i((a=>[c("div",U,[d(c("div",V,null,512),[[u,"0"===a.value.sealStateId]]),d(c("div",F,null,512),[[u,"1"===a.value.sealStateId||"2"===a.value.sealStateId]]),"0"===a.value.sealStateId?(o(),n("span",P,m(e.$t("t-zgj-seal.normal")),1)):"1"===a.value.sealStateId?(o(),n("span",L,m(e.$t("t-zgj-seal.deactivated")),1)):"2"===a.value.sealStateId?(o(),n("span",R,m(e.$t("t-zgj-seal.destroyed")),1)):p("",!0)])])),custom_caozuo:i((a=>[h(oe).rankDisplayData&&h(oe).rankDisplayData.length>0?(o(),n("div",{key:0,class:y(["rankDisplayData",{"rankDisplayData-add":"2"===a.value.sealStateId}])},[(o(!0),n(b,null,g(h(oe).rankDisplayData.slice(0,4),((t,s)=>(o(),n("div",{class:"rankDisplayData-node",key:s,onClick:e=>ie(0,a.value,t)},[c("span",null,m("status"===t.name?"1"===a.value.sealStateId?e.$t("t-zgj-Enable"):e.$t("t-zgj-seal.deactivated"):e.$t(t.name)),1)],8,q)))),128)),h(oe).rankDisplayData.length>4?(o(),n("div",G,[r(S,null,{dropdown:i((()=>[r(f,null,{default:i((()=>[(o(!0),n(b,null,g(h(oe).rankDisplayData.slice(4),((t,s)=>(o(),v(D,{class:y({"el-dropdown-item-add":"2"===a.value.sealStateId}),key:s,onClick:e=>ie(0,a.value,t)},{default:i((()=>[w(m("status"===t.name?"1"===a.value.sealStateId?e.$t("t-zgj-Enable"):e.$t("t-zgj-seal.deactivated"):e.$t(t.name)),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])),default:i((()=>[c("span",H,[c("img",{class:"rankDisplayData-node",src:"2"===a.value.sealStateId?h(oe).downIconGray:h(oe).downIcon,alt:""},null,8,K)])])),_:2},1024)])):p("",!0)],2)):p("",!0)])),_:1},8,["componentsSearchForm","componentsTableHeader","onClickBatchButton"]),c("div",O,[r(h(_),{show:h(oe).componentsDocumentsDetails.show,visible:h(oe).componentsDocumentsDetails.visible,onClickClose:re},null,8,["show","visible"])]),se.value?(o(),v(h(I),{key:0,show:se.value,"onUpdate:show":a[0]||(a[0]=e=>se.value=e),tabsShow:h(oe).tabsShow,"onUpdate:searchSelected":le,searchSelected:h(oe).searchSelected},null,8,["show","tabsShow","searchSelected"])):p("",!0),r(T,{modelValue:h(oe).JyElMessageBox.show,"onUpdate:modelValue":a[3]||(a[3]=e=>h(oe).JyElMessageBox.show=e),show:h(oe).JyElMessageBox.show,defaultAttribute:{}},{header:i((()=>[c("div",Q,[c("img",{src:h(oe).JyElMessageBox.header.icon,alt:""},null,8,W),c("span",null,m(e.$t(h(oe).JyElMessageBox.header.data)),1)])])),content:i((()=>[c("div",X,m(h(oe).JyElMessageBox.content.data),1)])),footer:i((()=>[r(x,{type:"primary",onClick:a[1]||(a[1]=e=>{return a=h(oe).JyElMessageBox.type,oe.JyElMessageBox.show=!1,void("还原"===a&&ce(a,B.sealRollback(oe.sealIds)));var a})},{default:i((()=>[Y])),_:1}),r(x,{onClick:a[2]||(a[2]=e=>h(oe).JyElMessageBox.show=!1)},{default:i((()=>[Z])),_:1})])),_:1},8,["modelValue","show"]),r(T,{modelValue:h(oe).showToastDialog.show,"onUpdate:modelValue":a[4]||(a[4]=e=>h(oe).showToastDialog.show=e),show:h(oe).showToastDialog.show,defaultAttribute:{}},{header:i((()=>[c("div",ee,[c("img",{src:h(oe).showToastDialog.header.icon,alt:""},null,8,ae),c("span",null,m(h(oe).showToastDialog.header.data),1)])])),content:i((()=>[c("div",te,m(h(oe).showToastDialog.content.data),1),r(C,{class:"scrollbar","max-height":"200px"},{default:i((()=>[(o(!0),n(b,null,g(h(oe).componentsBatch.selectionData,(e=>(o(),n("p",{key:e,class:"scrollbar-demo-item"},m(e.sealName),1)))),128))])),_:1})])),footer:i((()=>[(o(!0),n(b,null,g(h(oe).butDatas,(e=>(o(),v(x,{key:e.name,type:e.type,onClick:e.clickName},{default:i((()=>[w(m(e.name),1)])),_:2},1032,["type","onClick"])))),128))])),_:1},8,["modelValue","show"])])}}},[["__scopeId","data-v-f8a387cb"]]);export{se as default};
